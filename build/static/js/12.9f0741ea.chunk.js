(this["webpackJsonpultrasound-client"]=this["webpackJsonpultrasound-client"]||[]).push([[12],{167:function(e,t,n){"use strict";var a=n(23),c=n(30),s=n(0),i=n.n(s),r=n(1),l=n.n(r),u=n(25),o=n.n(u),d=n(17),j={tag:d.p,fluid:l.a.bool,className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,n=e.cssModule,s=e.tag,r=e.fluid,l=Object(c.a)(e,["className","cssModule","tag","fluid"]),u=Object(d.l)(o()(t,"jumbotron",!!r&&"jumbotron-fluid"),n);return i.a.createElement(s,Object(a.a)({},l,{className:u}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},168:function(e,t,n){"use strict";var a=n(23),c=n(30),s=n(0),i=n.n(s),r=n(1),l=n.n(r),u=n(25),o=n.n(u),d=n(17),j={tag:d.p,fluid:l.a.oneOfType([l.a.bool,l.a.string]),className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,n=e.cssModule,s=e.fluid,r=e.tag,l=Object(c.a)(e,["className","cssModule","fluid","tag"]),u="container";!0===s?u="container-fluid":s&&(u="container-"+s);var j=Object(d.l)(o()(t,u),n);return i.a.createElement(r,Object(a.a)({},l,{className:j}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},357:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(7),i=n(168),r=n(9),l=n(23),u=n(30),o=n(1),d=n.n(o),j=n(25),b=n.n(j),p=n(17),O={tag:p.p,size:d.a.string,className:d.a.string,cssModule:d.a.object},f=function(e){var t=e.className,n=e.cssModule,a=e.tag,s=e.size,i=Object(u.a)(e,["className","cssModule","tag","size"]),r=Object(p.l)(b()(t,"input-group",s?"input-group-"+s:null),n);return c.a.createElement(a,Object(l.a)({},i,{className:r}))};f.propTypes=O,f.defaultProps={tag:"div"};var m=f,x={tag:p.p,className:d.a.string,cssModule:d.a.object},h=function(e){var t=e.className,n=e.cssModule,a=e.tag,s=Object(u.a)(e,["className","cssModule","tag"]),i=Object(p.l)(b()(t,"input-group-text"),n);return c.a.createElement(a,Object(l.a)({},s,{className:i}))};h.propTypes=x,h.defaultProps={tag:"span"};var g=h,v={tag:p.p,addonType:d.a.oneOf(["prepend","append"]).isRequired,children:d.a.node,className:d.a.string,cssModule:d.a.object},y=function(e){var t=e.className,n=e.cssModule,a=e.tag,s=e.addonType,i=e.children,r=Object(u.a)(e,["className","cssModule","tag","addonType","children"]),o=Object(p.l)(b()(t,"input-group-"+s),n);return"string"===typeof i?c.a.createElement(a,Object(l.a)({},r,{className:o}),c.a.createElement(g,{children:i})):c.a.createElement(a,Object(l.a)({},r,{className:o,children:i}))};y.propTypes=v,y.defaultProps={tag:"div"};var _=y,N=n(18),M=n(195),T=n(45),S=n(44),C={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:p.p,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},z=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(T.a)(n)),n.focus=n.focus.bind(Object(T.a)(n)),n}Object(S.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.type,s=e.bsSize,i=e.valid,r=e.invalid,o=e.tag,d=e.addon,j=e.plaintext,O=e.innerRef,f=Object(u.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),m=["radio","checkbox"].indexOf(a)>-1,x=new RegExp("\\D","g"),h=o||("select"===a||"textarea"===a?a:"input"),g="form-control";j?(g+="-plaintext",h=o||"input"):"file"===a?g+="-file":"range"===a?g+="-range":m&&(g=d?null:"form-check-input"),f.size&&x.test(f.size)&&(Object(p.r)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=f.size,delete f.size);var v=Object(p.l)(b()(t,r&&"is-invalid",i&&"is-valid",!!s&&"form-control-"+s,g),n);return("input"===h||o&&"function"===typeof o)&&(f.type=a),f.children&&!j&&"select"!==a&&"string"===typeof h&&"select"!==h&&(Object(p.r)('Input with a type of "'+a+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),c.a.createElement(h,Object(l.a)({},f,{ref:O,className:v,"aria-invalid":r}))},t}(c.a.Component);z.propTypes=C,z.defaultProps={type:"text"};var k=z,E=n(6),w=function(e){var t=e.textValue,n=e.setInputText,a=e.currentName;return Object(E.jsx)(k,{type:"text",name:"dataForm/".concat(a),id:"dataForm",placeholder:a,value:t,onChange:function(e){n(e.target.value)}})},I=n(117),P=n(10),L=n(32),R=function(e){var t=e.currentName,n=e.id,c=e.type,s=Object(a.useState)(""),i=Object(N.a)(s,2),l=i[0],u=i[1],o=Object(r.a)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(w,{currentName:t,textValue:l,setInputText:u}),Object(E.jsx)(_,{addonType:"append",children:Object(E.jsx)(M.a,{color:"primary",onClick:function(){o(Object(I.c)({id:n,textValue:l,type:c})),P.a.dispatch("updateItems"),o(Object(L.d)())},children:Object(E.jsx)("span",{children:"Save"})})})]})},F=n(198),V={children:d.a.node},D=function(e){return c.a.createElement(F.a,Object(l.a)({group:!0},e))};D.propTypes=V;var H=D,A=n(362),J=n(19),q=n(347),U=n(349),B=n(20),G=function(e){var t=e.item,n=Object(r.b)((function(e){return e.item})).parentId,a=Object(r.a)();return Object(E.jsx)(U.a,{onClick:function(){n&&void 0!==n&&(a(Object(B.b)(!0)),a(Object(B.f)({parentId:n,item:t})))},children:t.name})},K=function(e){var t=e.size,n=e.itemList,a=e.loading,c=0!==t&&n&&"successful"===a&&n.map((function(e){return Object(E.jsx)(G,{item:e})}));return Object(E.jsx)(E.Fragment,{children:c})},Q=function(){var e=Object(a.useState)([]),t=Object(N.a)(e,2),n=t[0],c=t[1],s=Object(r.b)((function(e){return e.item})),i=s.itemList,l=s.size,u=s.loading;return Object(a.useEffect)((function(){"successful"===u&&void 0!==i&&c(i),P.a.dispatch("updateItems")}),[i,u]),Object(E.jsx)(q.a,{modifiers:{setMaxHeight:{enabled:!0,order:890,fn:function(e){return Object(J.a)(Object(J.a)({},e),{},{styles:Object(J.a)(Object(J.a)({},e.styles),{},{overflow:"auto",maxHeight:"10em"})})}}},children:Object(E.jsx)(K,{itemList:n,size:l,loading:u})})},W=function(){var e=Object(r.b)((function(e){return e})),t=e.classification,n=e.item,c=n.editing,s=n.selected,i=n.size,l=Object(a.useState)(!0),u=Object(N.a)(l,2),o=u[0],d=u[1],j=Object(a.useState)(!1),b=Object(N.a)(j,2),p=b[0],O=b[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){d(!1)}),500);return function(){return clearTimeout(e)}}),[]),Object(E.jsxs)(H,{style:{margin:"1rem"},addonType:"prepend",isOpen:p,toggle:function(){return O((function(e){return!e}))},disabled:"successful"!==t.loading,children:[Object(E.jsx)(A.a,{caret:!0,children:c?Object(E.jsx)("span",{className:"edit___drop-down-item",children:o?Object(E.jsx)("span",{className:"spinner-border spinner-border-sm"}):i<15?s.name:"Items"}):Object(E.jsx)("span",{className:"edit___drop-down-item",children:o?Object(E.jsx)("span",{className:"spinner-border spinner-border-sm"}):"Scans: ".concat(i)})}),Object(E.jsx)(Q,{})]})},X=n(26),Y=n(47),Z=function(e){var t=e.id,n=e.title,c=Object(r.a)(),s=Object(Y.a)({id:t,subMenuObj:{},isLoading:!1,error:null}),i=Object(N.a)(s,2),l=i[0],u=i[1],o=Object(a.useCallback)((function(){var e=new AbortController;return l.isLoading||(c(Object(X.c)(!0)),c(Object(B.b)(!1)),u()),e.abort()}),[c,l,u]);return Object(E.jsx)(U.a,{style:{textTransform:"uppercase"},onClick:o,children:n})},$=function(){var e=Object(r.b)((function(e){return e.classification.selected})).subMenus,t=Object.keys(e).map((function(t){return Object(E.jsx)(Z,{id:e[t],title:t},e[t])}));return Object(E.jsx)(E.Fragment,{children:t})},ee=function(){return Object(E.jsx)(q.a,{modifiers:{setMaxHeight:{enabled:!0,order:890,fn:function(e){return Object(J.a)(Object(J.a)({},e),{},{styles:Object(J.a)(Object(J.a)({},e.styles),{},{overflow:"auto",maxHeight:"10em"})})}}},children:Object(E.jsx)($,{})})},te=function(e){var t=e.subMenuCount,n=Object(a.useState)(!1),c=Object(N.a)(n,2),s=c[0],i=c[1],l=Object(r.b)((function(e){return e})),u=l.subMenu,o=l.classification;return Object(E.jsxs)(H,{style:{margin:"1rem"},addonType:"prepend",isOpen:s,toggle:function(){return i((function(e){return!e}))},disabled:"successful"!==o.loading,children:[Object(E.jsx)(A.a,{caret:!0,children:u.editing?Object(E.jsx)("span",{className:"edit___drop-down-item",children:"pending"===o.loading?Object(E.jsx)("span",{className:"spinner-border spinner-border-sm"}):u.selected.name}):Object(E.jsx)("span",{className:"edit___drop-down-item",children:"pending"===o.loading?Object(E.jsx)("span",{className:"spinner-border spinner-border-sm"}):"Sub-menus: ".concat(t)})}),Object(E.jsx)(ee,{})]})},ne=function(e){var t=e.classification,n=e.hasSubMenu,a=e.subMenuCount,c=t.name,s=t._id,i=Object(r.b)((function(e){return e})).item;return Object(E.jsxs)("div",{className:"edit___header",children:[Object(E.jsx)("h2",{className:"edit___header___text",children:c&&c.toUpperCase()}),Object(E.jsxs)("div",{className:"edit___drop-downs",children:[n&&Object(E.jsx)(te,{subMenuCount:a}),0!==i.itemList.length&&Object(E.jsx)(W,{})]}),Object(E.jsx)("div",{className:"edit___header___control",children:Object(E.jsxs)(m,{children:[Object(E.jsx)(_,{addonType:"prepend",children:Object(E.jsx)(g,{children:"Edit Title"})}),Object(E.jsx)(R,{id:s,currentName:c,type:"classification"})]})})]})},ae=n(167),ce=n(125),se=function(e){var t=e.id,n=e.type,c=e.title,s=Object(a.useState)(!1),i=Object(N.a)(s,2),l=i[0],u=i[1],o=Object(r.a)(),d=Object(a.useCallback)((function(){u(!l)}),[l]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(M.a,{style:{position:"relative",marginLeft:"4rem"},className:"danger-btn-edit",outline:!0,color:"danger",onClick:d,children:c}),Object(E.jsx)(ce.a,{actionText:"Permanently delete ",itemText:n,setModal:l,toggleCallback:d,modalAction:function(){o(Object(I.a)({id:t,type:n})),d()}})]})},ie=function(e){var t=e.id,n=e.item,c=e.type,s=Object(a.useState)(""),i=Object(N.a)(s,2),l=i[0],u=i[1],o=Object(r.a)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(w,{currentName:n.name,textValue:l,setInputText:u}),Object(E.jsx)(_,{addonType:"append",children:Object(E.jsx)(M.a,{color:"primary",onClick:function(){o(Object(I.d)({id:t,textValue:l,item:n,type:c})),"subMenu"===c?(P.a.dispatch("updateSubMenus"),P.a.dispatch("updateItems")):P.a.dispatch("updateItems"),o(Object(L.d)())},children:Object(E.jsx)("span",{children:"Save"})})})]})},re=function(){var e=Object(a.useState)(!1),t=Object(N.a)(e,2),n=t[0],c=t[1],l=Object(r.b)((function(e){return e.item})),u=l.selected,o=l.itemType,d=l.parentId,j=Object(r.b)((function(e){return e})),b=j.subMenu,p=j.auth,O=u.name,f=u.link,x=Object(s.g)(),h=Object(r.a)(),v=function(e){return!!e&&!!e},y=Object(a.useCallback)((function(){c(!n)}),[n]);return Object(E.jsxs)("div",{className:"edit___item",children:[Object(E.jsxs)(i.a,{className:"edit___text-wrap",children:[Object(E.jsxs)("span",{className:"span-header___capital___light",children:["Selected scan:"," "]}),Object(E.jsx)("span",{className:"span-header___capital",children:'"'.concat(O,'"')}),Object(E.jsx)(M.a,{style:{marginLeft:"1rem"},type:"button",outline:!0,color:"primary",onClick:function(){x.push("".concat(p.contentPath,"/move/").concat(f))},children:Object(E.jsx)("span",{children:"Move"})}),Object(E.jsx)(M.a,{style:{marginLeft:"1rem"},color:"danger",outline:!0,onClick:y,children:Object(E.jsx)("span",{children:"Delete"})})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(m,{children:[Object(E.jsx)(_,{addonType:"prepend",children:Object(E.jsx)(g,{children:"Edit Title"})}),v(u)&&d&&Object(E.jsx)(ie,{id:d,item:u,type:o})]}),Object(E.jsx)(ce.a,{actionText:"Permanently delete",itemText:O,setModal:n,toggleCallback:y,modalAction:function(){void 0!==u&&d&&v(u)&&f&&O&&(h(Object(I.b)({id:d,type:o,item:u})),"subMenu"===u.type&&1===b.selected.itemList.length&&h(Object(I.a)({id:d,type:"subMenu"})))}})]})},le=function(){var e=Object(r.b)((function(e){return e.item})),t=e.size,n=e.loading,a=e.editing;return 0!==t&&"successful"===n&&a?Object(E.jsx)(re,{}):null},ue=function(){var e=Object(r.b)((function(e){return e.subMenu})).selected,t=Object(r.b)((function(e){return e.classification.selected._id})),n=e._id,a=e.name;return Object(E.jsx)("div",{className:"edit___content",children:Object(E.jsx)(ae.a,{fluid:!0,children:Object(E.jsxs)(i.a,{fluid:!0,style:{flexDirection:"column",display:"flex",alignItems:"center"},children:[Object(E.jsxs)("div",{className:"edit___item",children:[Object(E.jsxs)(i.a,{className:"edit___text-wrap",children:[Object(E.jsxs)("span",{className:"span-header___capital___light",children:["Sub Menu:"," "]}),Object(E.jsx)("span",{className:"span-header___capital",children:'"'.concat(a,'"')}),Object(E.jsx)(se,{id:"".concat(t,"/").concat(n),type:"subMenu",title:"Delete"})]}),Object(E.jsx)("br",{}),Object(E.jsxs)(m,{children:[Object(E.jsx)(_,{addonType:"prepend",children:Object(E.jsx)(g,{children:"Edit Title"})}),Object(E.jsx)(R,{id:"".concat(t,"/").concat(n),type:"subMenu",currentName:a})]})]}),Object(E.jsx)(le,{})]})})})},oe=function(){return Object(E.jsx)(ue,{})},de=function(e){var t=e.hasSubMenu,n=e.editing,c=Object(r.b)((function(e){return e})),s=c.classification,l=c.subMenu,u=c.item,o=u.itemType,d=Object(r.a)();return Object(a.useEffect)((function(){var e=setTimeout((function(){P.a.dispatch("updateItems")}),10);return function(){return clearTimeout(e)}}),[s,l,u,o,d]),Object(E.jsxs)(i.a,{fluid:!0,style:{display:"flex",padding:"2rem",justifyContent:"center"},children:[t&&l.editing&&"successful"===l.loading&&Object(E.jsx)(oe,{}),n&&!l.editing&&u.editing&&Object(E.jsx)(re,{})]})};t.default=Object(s.i)((function(){var e,t=Object(r.b)((function(e){return e})).auth,n=Object(r.b)((function(e){return e.classification})),a=n.selected,c=n.subMenuCount,s=n.editing;return(e=a)&&e&&t.contentPath?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(se,{id:a._id,type:"classification",title:"Delete"}),Object(E.jsx)(i.a,{children:Object(E.jsx)(ne,{classification:a,subMenuCount:c,hasSubMenu:a.hasSubMenu})}),Object(E.jsxs)("div",{className:"edit",children:[Object(E.jsx)("hr",{className:"my-2"}),Object(E.jsx)(de,{hasSubMenu:a.hasSubMenu,editing:s})]})]}):null}))}}]);
//# sourceMappingURL=12.9f0741ea.chunk.js.map